{"ast":null,"code":"// PdfUpload.js\nimport React,{useState}from'react';/**\r\n * PdfUpload component for uploading PDF files.\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PdfUpload=_ref=>{let{onFileUpload,setFilename,setIsUploadModalOpen}=_ref;const[selectedFile,setSelectedFile]=useState(null);const handleFileChange=event=>{const file=event.target.files[0];setSelectedFile(file);setFilename(file?file.name:'');};const handleFileUpload=async()=>{if(selectedFile){try{// Create a FormData object to send the file\nconst formData=new FormData();formData.append('file',selectedFile);// Make a POST request to the backend FastAPI server\nconst response=await fetch('http://localhost:8000/upload-pdf/',{method:'POST',body:formData});if(response.ok){const result=await response.json();setFilename(result.metadata.filename);console.log('Uploaded File:',selectedFile);console.log('Filename:',result.metadata.filename);setIsUploadModalOpen(false);}else{// Handlingthe error response\nalert('Failed to upload the PDF:',response.statusText);console.error('Failed to upload the PDF:',response.statusText);}}catch(error){alert('Error while uploading the PDF:',error);console.error('Error while uploading the PDF:',error);}}else{// Display an error message for no file selected\nalert('Please select a PDF file to upload.');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"fileInput\",id:\"fileInput\",accept:\".pdf\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFileUpload,children:\"Upload File\"})]});};export default PdfUpload;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","PdfUpload","_ref","onFileUpload","setFilename","setIsUploadModalOpen","selectedFile","setSelectedFile","handleFileChange","event","file","target","files","name","handleFileUpload","formData","FormData","append","response","fetch","method","body","ok","result","json","metadata","filename","console","log","alert","statusText","error","children","type","className","id","accept","onChange","onClick"],"sources":["C:/Users/HP/Downloads/pdf-chat-application-main/pdf-chat-application-main/PDF_application/pdf-question-app/src/PdfUpload.js"],"sourcesContent":["// PdfUpload.js\r\nimport React, { useState } from 'react';\r\n\r\n/**\r\n * PdfUpload component for uploading PDF files.\r\n */\r\n\r\n\r\nconst PdfUpload = ({ onFileUpload, setFilename, setIsUploadModalOpen }) => {\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n    const handleFileChange = (event) => {\r\n        const file = event.target.files[0];\r\n        setSelectedFile(file);\r\n        setFilename(file ? file.name : '');\r\n    };\r\n\r\n    const handleFileUpload = async () => {\r\n        if (selectedFile) {\r\n            try {\r\n                // Create a FormData object to send the file\r\n                const formData = new FormData();\r\n                formData.append('file', selectedFile);\r\n\r\n                // Make a POST request to the backend FastAPI server\r\n                const response = await fetch('http://localhost:8000/upload-pdf/', {\r\n                    method: 'POST',\r\n                    body: formData,\r\n                });\r\n\r\n                if (response.ok) {\r\n\r\n                    const result = await response.json();\r\n                    setFilename(result.metadata.filename);\r\n                    console.log('Uploaded File:', selectedFile);\r\n                    console.log('Filename:', result.metadata.filename);\r\n                    setIsUploadModalOpen(false); \r\n\r\n                } else {\r\n                    // Handlingthe error response\r\n                    alert('Failed to upload the PDF:', response.statusText);\r\n                    console.error('Failed to upload the PDF:', response.statusText);\r\n                }\r\n            } catch (error) {\r\n                alert('Error while uploading the PDF:', error);\r\n                console.error('Error while uploading the PDF:', error);\r\n            }\r\n        } else {\r\n            // Display an error message for no file selected\r\n            alert('Please select a PDF file to upload.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"file\" className=\"fileInput\" id=\"fileInput\" accept=\".pdf\" onChange={handleFileChange} />\r\n            <button onClick={handleFileUpload}>Upload File</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PdfUpload;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC;AACA;AACA,GAFA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAKA,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAyD,IAAxD,CAAEC,YAAY,CAAEC,WAAW,CAAEC,oBAAqB,CAAC,CAAAH,IAAA,CAClE,KAAM,CAACI,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAEtD,KAAM,CAAAY,gBAAgB,CAAIC,KAAK,EAAK,CAChC,KAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAClCL,eAAe,CAACG,IAAI,CAAC,CACrBN,WAAW,CAACM,IAAI,CAAGA,IAAI,CAACG,IAAI,CAAG,EAAE,CAAC,CACtC,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAIR,YAAY,CAAE,CACd,GAAI,CACA;AACA,KAAM,CAAAS,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEX,YAAY,CAAC,CAErC;AACA,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,mCAAmC,CAAE,CAC9DC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEN,QACV,CAAC,CAAC,CAEF,GAAIG,QAAQ,CAACI,EAAE,CAAE,CAEb,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CACpCpB,WAAW,CAACmB,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAAC,CACrCC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEtB,YAAY,CAAC,CAC3CqB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEL,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAAC,CAClDrB,oBAAoB,CAAC,KAAK,CAAC,CAE/B,CAAC,IAAM,CACH;AACAwB,KAAK,CAAC,2BAA2B,CAAEX,QAAQ,CAACY,UAAU,CAAC,CACvDH,OAAO,CAACI,KAAK,CAAC,2BAA2B,CAAEb,QAAQ,CAACY,UAAU,CAAC,CACnE,CACJ,CAAE,MAAOC,KAAK,CAAE,CACZF,KAAK,CAAC,gCAAgC,CAAEE,KAAK,CAAC,CAC9CJ,OAAO,CAACI,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CAC1D,CACJ,CAAC,IAAM,CACH;AACAF,KAAK,CAAC,qCAAqC,CAAC,CAChD,CACJ,CAAC,CAED,mBACI7B,KAAA,QAAAgC,QAAA,eACIlC,IAAA,UAAOmC,IAAI,CAAC,MAAM,CAACC,SAAS,CAAC,WAAW,CAACC,EAAE,CAAC,WAAW,CAACC,MAAM,CAAC,MAAM,CAACC,QAAQ,CAAE7B,gBAAiB,CAAE,CAAC,cACpGV,IAAA,WAAQwC,OAAO,CAAExB,gBAAiB,CAAAkB,QAAA,CAAC,aAAW,CAAQ,CAAC,EACtD,CAAC,CAEd,CAAC,CAED,cAAe,CAAA/B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}